# Complete integration tests
This is an overview of how the integration test works. 

1. First, observations are created in raw data format with the properties you want them to have. 
2. Then the observations are processed using data from taxonomy, dictionaries and areas. This data are fetched from MongoDB, but it could be moved to JSON files. 
3. The observation is then added to a special index in Elasticsearch which is only for integration tests. 
4. After that, the endpoint is called.
5. The result is verified.

## Sequence diagram
[![](https://mermaid.ink/img/pako:eNqNVE1v2zAM_SuCTgkQY9iORhEgadphh30A7XqZd2AsNjUgSx5FBw2K_vdRsYvGkZMmp4h675F8pPWiS29Q5zrgvxZdiasKNgR14ZT8oGXv2nqN1J0bIK7KqgHH6ptjFCRX3t1jYAXhMKRYYilp0UTsChiWbWUNUqQ9IK2FVB9djbF_rgPSdp_hFkr2tIsCC-LGE4NFlwJSmQNMuPaOyVvbVTJ-kyrcWAhyCAhUPkXiIHC1pk_zPwLvjl-yz1l04-8-fhV8yKp3o-JNyPx74nlMVrgu6Q_PqPxWqjuyO5emCdwGO9zRbTafJ07n6poQGGP4sM_JtJNICJmoJFm3_awOFU6XkE4jV7_IlxjCoIQx1emxA-NyvwMqwuBbElU1uYdn72bqwZewbi3QbiZGIUz33gehoFGVU9-92_jVch99az9VH3Wg6epHc4kFg73I1QotMi6sHQ6gm_hFCgszyDsZrSax7kjkEKuAUIEx4gt7xU8o9hh8vnBXP97Skk91Nv6x5eorDvZzubvblz3pqr-tLCP1HY5LpK6dkuxlBujsTGkdLe5ba_lsCWObM8I-55xMlVjPdI1UQ2XkjX6JpELLkGosdC5_DT5CFNOFexVo2xj5wm9MJdur80ewAWc6PuJ3O1fqnKnFN1D_zveo1_8WqzPI)](https://mermaid.live/edit#pako:eNqNVE1v2zAM_SuCTgkQY9iORhEgadphh30A7XqZd2AsNjUgSx5FBw2K_vdRsYvGkZMmp4h675F8pPWiS29Q5zrgvxZdiasKNgR14ZT8oGXv2nqN1J0bIK7KqgHH6ptjFCRX3t1jYAXhMKRYYilp0UTsChiWbWUNUqQ9IK2FVB9djbF_rgPSdp_hFkr2tIsCC-LGE4NFlwJSmQNMuPaOyVvbVTJ-kyrcWAhyCAhUPkXiIHC1pk_zPwLvjl-yz1l04-8-fhV8yKp3o-JNyPx74nlMVrgu6Q_PqPxWqjuyO5emCdwGO9zRbTafJ07n6poQGGP4sM_JtJNICJmoJFm3_awOFU6XkE4jV7_IlxjCoIQx1emxA-NyvwMqwuBbElU1uYdn72bqwZewbi3QbiZGIUz33gehoFGVU9-92_jVch99az9VH3Wg6epHc4kFg73I1QotMi6sHQ6gm_hFCgszyDsZrSax7kjkEKuAUIEx4gt7xU8o9hh8vnBXP97Skk91Nv6x5eorDvZzubvblz3pqr-tLCP1HY5LpK6dkuxlBujsTGkdLe5ba_lsCWObM8I-55xMlVjPdI1UQ2XkjX6JpELLkGosdC5_DT5CFNOFexVo2xj5wm9MJdur80ewAWc6PuJ3O1fqnKnFN1D_zveo1_8WqzPI)


# Divided diagrams, Arrange-Act-Assert

## Arrange
[![](https://mermaid.ink/img/pako:eNqNVMFu2zAM_RVBpwSIMWxHozCQLi3Qw9YC63qZd6AtNjUgSx5FBw2K_vuoOF1iywPik0k9vkc-CnrTtTeocx3wT4-uxk0DW4K2dEo-6Nm7vq2QhrgD4qZuOnCs7hyjILnx7hEDKwjnKcWSS4vWXcRugOG6b6xBimVPSJUUtZOjuer7KiDtDgq3ULOnfSRYE3eeGCy6FJDS3FgIEgQEql9i_ShxVdGn4pfAh_BL9jmLs_w-5K-CD1lzGjOehMyfRIsoVrpB9LtnVH4nU07MyqVlArfFATc5zYoi8SlXXwmBMabPZgyL5UCRFGTCkqjujk6fM_y_hdTLXD2QrzGEUQtzrMupA_N0PwMqwuB7Ela1eIRX71bqyddQ9RZovxKjEJYH74OUoFGNU9-82_rN9b9NtTE-LSruKHDxYUyqO-tNN0yG5hJzRjcmVxu0yLi2drya4S5cxLA2I93FbDeJqROSc6wCQgXGiGPsFb-gGGfw9cJbfIANanqlW6QWGiOvxFvMlVroWix1Lr8Gn6G3XOrSvQu074zc0hvTiM86fwYbcKXjM_Jj72qdM_X4ATq-NEfU-1-t3KV-)](https://mermaid.live/edit#pako:eNqNVMFu2zAM_RVBpwSIMWxHozCQLi3Qw9YC63qZd6AtNjUgSx5FBw2K_vuoOF1iywPik0k9vkc-CnrTtTeocx3wT4-uxk0DW4K2dEo-6Nm7vq2QhrgD4qZuOnCs7hyjILnx7hEDKwjnKcWSS4vWXcRugOG6b6xBimVPSJUUtZOjuer7KiDtDgq3ULOnfSRYE3eeGCy6FJDS3FgIEgQEql9i_ShxVdGn4pfAh_BL9jmLs_w-5K-CD1lzGjOehMyfRIsoVrpB9LtnVH4nU07MyqVlArfFATc5zYoi8SlXXwmBMabPZgyL5UCRFGTCkqjujk6fM_y_hdTLXD2QrzGEUQtzrMupA_N0PwMqwuB7Ela1eIRX71bqyddQ9RZovxKjEJYH74OUoFGNU9-82_rN9b9NtTE-LSruKHDxYUyqO-tNN0yG5hJzRjcmVxu0yLi2drya4S5cxLA2I93FbDeJqROSc6wCQgXGiGPsFb-gGGfw9cJbfIANanqlW6QWGiOvxFvMlVroWix1Lr8Gn6G3XOrSvQu074zc0hvTiM86fwYbcKXjM_Jj72qdM_X4ATq-NEfU-1-t3KV-)

## Act, Assert
[![](https://mermaid.ink/img/pako:eNqNUk1rwzAM_SvGpw0axnYMJbCPbuyyHbrbsoObqKshsTNJKZTS_7Lfsl82Oe5o04Yw44Mlvff0ZLTVhS9Bp5rgqwVXwIM1n2jq3Ck5pmXv2noBGOPGINvCNsaxenYMgmTr3RsQK0PHKcUhJ-ec-LogwHWHonvvGH1VAQb-cOVcYVYZkoDAYLEKxF5iusCr7F3gMbxJrpNg5qPLT8lTYg8-Q4USf2ic5S42fPEMyq_F2cmkqbotOGJOKkmWDY-Qqifg49LdZt6Zu4geH23FgJdRdFhCtHtT_lNS_XzLjcI9fjJiNgopBGorHjUlIme_M8Ae-0sSYdYTXQPWxpayittAyjWvoIZcp_IsYWmCmM7dTqBtUxqGWWnZo06XpiKY6LCr840rdMrYwh9ov8571O4X9dQSqQ)](https://mermaid.live/edit#pako:eNqNUk1rwzAM_SvGpw0axnYMJbCPbuyyHbrbsoObqKshsTNJKZTS_7Lfsl82Oe5o04Yw44Mlvff0ZLTVhS9Bp5rgqwVXwIM1n2jq3Ck5pmXv2noBGOPGINvCNsaxenYMgmTr3RsQK0PHKcUhJ-ec-LogwHWHonvvGH1VAQb-cOVcYVYZkoDAYLEKxF5iusCr7F3gMbxJrpNg5qPLT8lTYg8-Q4USf2ic5S42fPEMyq_F2cmkqbotOGJOKkmWDY-Qqifg49LdZt6Zu4geH23FgJdRdFhCtHtT_lNS_XzLjcI9fjJiNgopBGorHjUlIme_M8Ae-0sSYdYTXQPWxpayittAyjWvoIZcp_IsYWmCmM7dTqBtUxqGWWnZo06XpiKY6LCr840rdMrYwh9ov8571O4X9dQSqQ)