<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="631px" preserveAspectRatio="none" style="width:688px;height:631px;" version="1.1" viewBox="0 0 688 631" width="688px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="364" x="165.5" y="18.6855">Component diagram for SOS Observation API</text><!--cluster api--><rect fill="#FFFFFF" height="438" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="606" x="22" y="182.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="287" y="199.1738">«boundary»</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="123" x="263.5" y="218.8594">Observation API</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="293.5" y="234.832">[Container]</text><!--entity observation_api--><rect fill="#85BBF0" height="140.75" style="stroke: #78A8D8; stroke-width: 1.5;" width="220" x="241" y="253.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="313" y="276.0977">«component»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="156" x="273" y="295.3438">SOS.ObservationApi</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="173" x="264.5" y="311.3164">[.Net Core Web API application]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="353" y="328.4863"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="251" y="346.0957">Provides a REST API to search</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="167" x="265.5" y="363.7051">for species observations &amp;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="287" y="381.3145">retrieve DwC-A files.</text><!--entity mongodb_sos_processed--><path d="M38.5,482.6406 C38.5,472.6406 135,472.6406 135,472.6406 C135,472.6406 231.5,472.6406 231.5,482.6406 L231.5,594.7813 C231.5,604.7813 135,604.7813 135,604.7813 C135,604.7813 38.5,604.7813 38.5,594.7813 L38.5,482.6406 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M38.5,482.6406 C38.5,492.6406 135,492.6406 135,492.6406 C135,492.6406 231.5,492.6406 231.5,482.6406 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="102.5" y="509.0977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114" x="78" y="528.3438">sos-processed</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="95.5" y="544.3164">[MongoDB 4.x]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="137" y="561.4863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="51.5" y="579.0957">Stores processed species</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="48.5" y="596.7051">observations in DwC format</text><!--entity doi_file_storage--><rect fill="#438DD5" height="123.1406" style="stroke: #3C7FC0; stroke-width: 1.5;" width="169" x="266.5" y="477.1406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="318.5" y="499.5977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="123" x="289.5" y="518.8438">DOI File Storage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="292" y="534.8164">[Azure BLOB storage]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="353" y="551.9863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="276.5" y="569.5957">Stores DOI DwC-A files.</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="292.5" y="587.2051">Stored indefinitely.</text><!--entity file_storage--><rect fill="#438DD5" height="123.1406" style="stroke: #3C7FC0; stroke-width: 1.5;" width="141" x="470.5" y="477.1406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="508.5" y="499.5977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="495.5" y="518.8438">File Storage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="37" x="522.5" y="534.8164">[NTFS]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="543" y="551.9863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="480.5" y="569.5957">Stores DwC-A files.</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="494" y="587.2051">Stored 1 week.</text><!--entity artfakta--><rect fill="#999999" height="55.2188" style="stroke: #8A8A8A; stroke-width: 1.5;" width="124" x="51" y="39.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="61" y="62.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="72.5" y="81.3438">Artfakta.se</text><!--entity artsok--><rect fill="#999999" height="72.8281" style="stroke: #8A8A8A; stroke-width: 1.5;" width="124" x="210" y="30.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="220" y="53.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="247" y="72.3438">Artsök</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="239.5" y="90.3926">GIS plugin</text><!--entity gbif_ala--><rect fill="#999999" height="55.2188" style="stroke: #8A8A8A; stroke-width: 1.5;" width="124" x="369" y="39.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="379" y="62.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="394" y="81.3438">GBIF/ALA</text><!--entity other_users--><rect fill="#999999" height="55.2188" style="stroke: #8A8A8A; stroke-width: 1.5;" width="146" x="528" y="39.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="549" y="62.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="538" y="81.3438">Other systems ...</text><!--link observation_api to mongodb_sos_processed--><path d="M280.274,394.7206 C256.098,418.5046 229.083,445.0826 204.968,468.8066 " fill="none" id="observation_api-&gt;mongodb_sos_processed" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="201.123,472.5886,210.3437,469.1275,204.687,469.0818,204.7327,463.4251,201.123,472.5886" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="66" x="251" y="439.1357">Read from</text><!--link observation_api to doi_file_storage--><path d="M351,394.7206 C351,419.4696 351,447.2426 351,471.6786 " fill="none" id="observation_api-&gt;doi_file_storage" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="351,476.8396,355,467.8396,351,471.8396,347,467.8396,351,476.8396" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="66" x="352" y="439.1357">Read from</text><!--link observation_api to file_storage--><path d="M413.213,394.7206 C435.711,419.8836 461.005,448.1726 483.117,472.9026 " fill="none" id="observation_api-&gt;file_storage" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="486.637,476.8396,483.6215,467.4638,483.3049,473.1117,477.6569,472.7951,486.637,476.8396" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="66" x="453" y="439.1357">Read from</text><!--link artfakta to observation_api--><path d="M116.163,94.8006 C119.706,115.8366 127.048,145.1196 142,166.6406 C166.667,202.1456 201.962,232.9166 236.544,257.5536 " fill="none" id="artfakta-&gt;observation_api" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="240.757,260.5276,235.7108,252.0697,236.6721,257.6443,231.0975,258.6056,240.757,260.5276" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="143" y="148.1357">Makes API calls to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="178" y="163.4492">[HTTPS]</text><!--link artsok to observation_api--><path d="M267.484,103.7156 C266.115,122.6526 266.076,146.1896 271,166.6406 C277.792,194.8476 290.574,223.6916 303.96,248.8066 " fill="none" id="artsok-&gt;observation_api" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="306.466,253.4516,305.7147,243.6315,304.0927,249.0508,298.6734,247.4288,306.466,253.4516" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="272" y="148.1357">Makes API calls to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="307" y="163.4492">[HTTPS]</text><!--link gbif_ala to observation_api--><path d="M422.59,94.9486 C411.242,131.1196 390.581,196.9776 374.361,248.6766 " fill="none" id="gbif_ala-&gt;observation_api" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="372.806,253.6346,379.3176,246.2455,374.3033,248.8641,371.6847,243.8498,372.806,253.6346" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="411" y="148.1357">Makes API calls to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="446" y="163.4492">[HTTPS]</text><!--link other_users to observation_api--><path d="M585.993,94.6456 C573.655,115.3256 555.001,144.2086 535,166.6406 C508.691,196.1476 476.808,225.1446 447.024,250.0056 " fill="none" id="other_users-&gt;observation_api" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="443.025,253.3286,452.5035,250.653,446.8706,250.133,447.3905,244.5001,443.025,253.3286" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="561" y="148.1357">Makes API calls to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="596" y="163.4492">[HTTPS]</text><!--
@startuml





skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}






















skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}

skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
















skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}












skinparam rectangle<<component>> {
    StereotypeFontColor #FFFFFF
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}

skinparam database<<component>> {
    StereotypeFontColor #FFFFFF
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}





title Component diagram for SOS Observation API

rectangle "==Artfakta.se" <<external_system>> as artfakta
rectangle "==Artsök\nGIS plugin" <<external_system>> as artsok
rectangle "==GBIF/ALA" <<external_system>> as gbif_ala
rectangle "==Other systems ..." <<external_system>> as other_users

rectangle "==Observation API\n<size:12>[Container]</size>" <<boundary>> as api {
    rectangle "==SOS.ObservationApi\n//<size:12>[.Net Core Web API application]</size>//\n\n Provides a REST API to search for species observations & retrieve DwC-A files." <<component>> as observation_api        
    database "==sos-processed\n//<size:12>[MongoDB 4.x]</size>//\n\n Stores processed species observations in DwC format" <<container>> as mongodb_sos_processed    
    rectangle "==DOI File Storage\n//<size:12>[Azure BLOB storage]</size>//\n\n Stores DOI DwC-A files.\nStored indefinitely." <<container>> as doi_file_storage
    rectangle "==File Storage\n//<size:12>[NTFS]</size>//\n\n Stores DwC-A files.\nStored 1 week." <<container>> as file_storage
    
    observation_api - -> mongodb_sos_processed : "===Read from"
    observation_api - -> doi_file_storage : "===Read from"
    observation_api - -> file_storage : "===Read from"
}

artfakta - -> observation_api : "===Makes API calls to\n//<size:12>[HTTPS]</size>//"
artsok - -> observation_api : "===Makes API calls to\n//<size:12>[HTTPS]</size>//"
gbif_ala - -> observation_api : "===Makes API calls to\n//<size:12>[HTTPS]</size>//"
other_users - -> observation_api : "===Makes API calls to\n//<size:12>[HTTPS]</size>//"
@enduml

PlantUML version 1.2019.09(Mon Aug 26 18:19:51 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_152-b16
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>