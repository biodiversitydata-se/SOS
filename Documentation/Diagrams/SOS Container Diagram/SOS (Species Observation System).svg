<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1124px" preserveAspectRatio="none" style="width:1342px;height:1124px;" version="1.1" viewBox="0 0 1342 1124" width="1342px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="408" x="470.5" y="18.6855">Container diagram for Species Observation System</text><!--cluster sos--><rect fill="#FFFFFF" height="690" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="831" x="256" y="182.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="633.5" y="199.1738">«boundary»</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="267" x="538" y="218.8594">SOS (Species Observation System)</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="646" y="234.832">[System]</text><!--cluster c3--><rect fill="#FFFFFF" height="160" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="620" x="22" y="953.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="294" y="970.1738">«boundary»</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="270" y="989.8594">Processing data</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="306.5" y="1005.832">[System]</text><!--cluster c2--><rect fill="#FFFFFF" height="151" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="632" x="674" y="958.1406"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="952" y="974.6738">«boundary»</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="260" x="860" y="994.3594">Species oservation data providers</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="964.5" y="1010.332">[System]</text><!--entity sos_api--><rect fill="#438DD5" height="140.75" style="stroke: #3C7FC0; stroke-width: 1.5;" width="215" x="477.5" y="253.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="552.5" y="276.0977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="527" y="295.3438">API Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="99" x="535.5" y="311.3164">[C#, .Net Core 3.x]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="587" y="328.4863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="185" x="490.5" y="346.0957">Provides species observation</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="191" x="487.5" y="363.7051">data via a REST JSON/HTTPS</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="572.5" y="381.3145">API.</text><!--entity mongodb_sos_processed--><path d="M272.5,482.6406 C272.5,472.6406 369,472.6406 369,472.6406 C369,472.6406 465.5,472.6406 465.5,482.6406 L465.5,594.7813 C465.5,604.7813 369,604.7813 369,604.7813 C369,604.7813 272.5,604.7813 272.5,594.7813 L272.5,482.6406 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M272.5,482.6406 C272.5,492.6406 369,492.6406 369,492.6406 C369,492.6406 465.5,492.6406 465.5,482.6406 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="336.5" y="509.0977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114" x="312" y="528.3438">sos-processed</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="329.5" y="544.3164">[MongoDB 4.x]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="371" y="561.4863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="285.5" y="579.0957">Stores processed species</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="282.5" y="596.7051">observations in DwC format</text><!--entity mongodb_sos_verbatim--><path d="M881,482.6406 C881,472.6406 976,472.6406 976,472.6406 C976,472.6406 1071,472.6406 1071,482.6406 L1071,594.7813 C1071,604.7813 976,604.7813 976,604.7813 C976,604.7813 881,604.7813 881,594.7813 L881,482.6406 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M881,482.6406 C881,492.6406 976,492.6406 976,492.6406 C976,492.6406 1071,492.6406 1071,482.6406 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="943.5" y="509.0977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="926.5" y="528.3438">sos-verbatim</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="936.5" y="544.3164">[MongoDB 4.x]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="978" y="561.4863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="166" x="891" y="579.0957">Stores verbatim harvested</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="909.5" y="596.7051">species observations</text><!--entity doi_file_storage--><rect fill="#438DD5" height="123.1406" style="stroke: #3C7FC0; stroke-width: 1.5;" width="169" x="500.5" y="477.1406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="552.5" y="499.5977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="123" x="523.5" y="518.8438">DOI File Storage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="526" y="534.8164">[Azure BLOB storage]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="587" y="551.9863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="510.5" y="569.5957">Stores DOI DwC-A files.</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="526.5" y="587.2051">Stored indefinitely.</text><!--entity file_storage--><rect fill="#438DD5" height="123.1406" style="stroke: #3C7FC0; stroke-width: 1.5;" width="141" x="704.5" y="477.1406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="742.5" y="499.5977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="729.5" y="518.8438">File Storage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="37" x="756.5" y="534.8164">[NTFS]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="777" y="551.9863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="714.5" y="569.5957">Stores DwC-A files.</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="728" y="587.2051">Stored 1 week.</text><!--entity sos_job_server--><rect fill="#438DD5" height="158.3594" style="stroke: #3C7FC0; stroke-width: 1.5;" width="216" x="533" y="698.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="608.5" y="721.0977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="599.5" y="740.3438">Job Server</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="152" x="565" y="756.3164">[C#, .Net Core 3.x, Hangfire]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="643" y="773.4863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="556.5" y="791.0957">Harvest observations on a</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="175" x="551.5" y="808.7051">scheduled basis, processes</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="192" x="543" y="826.3145">observations &amp; creates DwC-A</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="626.5" y="843.9238">files.</text><!--entity taxon_service--><rect fill="#1168BD" height="72.8281" style="stroke: #3C7FC0; stroke-width: 1.5;" width="129" x="38.5" y="1024.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="76.5" y="1047.0977">«system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="48.5" y="1066.3438">Taxon Service</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="72.5" y="1084.3926">(Dyntaxa)</text><!--entity taxon_attribute_service--><rect fill="#1168BD" height="55.2188" style="stroke: #3C7FC0; stroke-width: 1.5;" width="198" x="203" y="1033.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="275.5" y="1056.0977">«system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="178" x="213" y="1075.3438">Taxon Attribute Service</text><!--entity georeference_service--><rect fill="#1168BD" height="55.2188" style="stroke: #3C7FC0; stroke-width: 1.5;" width="190" x="436" y="1033.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="504.5" y="1056.0977">«system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="170" x="446" y="1075.3438">GeoReference Service</text><!--entity artportalen_db--><path d="M690.5,1039.1406 C690.5,1029.1406 743,1029.1406 743,1029.1406 C743,1029.1406 795.5,1029.1406 795.5,1039.1406 L795.5,1083.3594 C795.5,1093.3594 743,1093.3594 743,1093.3594 C743,1093.3594 690.5,1093.3594 690.5,1083.3594 L690.5,1039.1406 " fill="#1168BD" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M690.5,1039.1406 C690.5,1049.1406 743,1049.1406 743,1049.1406 C743,1049.1406 795.5,1049.1406 795.5,1039.1406 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="716.5" y="1065.5977">«system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="700.5" y="1084.8438">Artportalen</text><!--entity wram--><rect fill="#1168BD" height="55.2188" style="stroke: #3C7FC0; stroke-width: 1.5;" width="73" x="830.5" y="1033.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="840.5" y="1056.0977">«system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="841.5" y="1075.3438">WRAM</text><!--entity dwca_external_source--><rect fill="#999999" height="55.2188" style="stroke: #8A8A8A; stroke-width: 1.5;" width="124" x="939" y="1033.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="949" y="1056.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="53" x="974.5" y="1075.3438">DwC-A</text><!--entity other_external_sources--><rect fill="#999999" height="55.2188" style="stroke: #8A8A8A; stroke-width: 1.5;" width="192" x="1098" y="1033.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="1142" y="1056.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="172" x="1108" y="1075.3438">Other data providers ...</text><!--entity artfakta--><rect fill="#999999" height="55.2188" style="stroke: #8A8A8A; stroke-width: 1.5;" width="124" x="285" y="39.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="295" y="62.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81" x="306.5" y="81.3438">Artfakta.se</text><!--entity artsok--><rect fill="#999999" height="72.8281" style="stroke: #8A8A8A; stroke-width: 1.5;" width="124" x="444" y="30.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="454" y="53.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="481" y="72.3438">Artsök</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="473.5" y="90.3926">GIS plugin</text><!--entity gbif_ala--><rect fill="#999999" height="55.2188" style="stroke: #8A8A8A; stroke-width: 1.5;" width="124" x="603" y="39.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="613" y="62.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="628" y="81.3438">GBIF/ALA</text><!--entity other_users--><rect fill="#999999" height="55.2188" style="stroke: #8A8A8A; stroke-width: 1.5;" width="146" x="762" y="39.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="783" y="62.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="772" y="81.3438">Other systems ...</text><!--link sos_api to mongodb_sos_processed--><path d="M514.274,394.7206 C490.098,418.5046 463.083,445.0826 438.968,468.8066 " fill="none" id="sos_api-&gt;mongodb_sos_processed" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="435.123,472.5886,444.3437,469.1275,438.687,469.0818,438.7327,463.4251,435.123,472.5886" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="485" y="439.1357">Reads from</text><!--link sos_api to file_storage--><path d="M647.213,394.7206 C669.711,419.8836 695.005,448.1726 717.117,472.9026 " fill="none" id="sos_api-&gt;file_storage" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="720.637,476.8396,717.6215,467.4638,717.3049,473.1117,711.6569,472.7951,720.637,476.8396" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="687" y="439.1357">Reads from</text><!--link sos_api to doi_file_storage--><path d="M585,394.7206 C585,419.4696 585,447.2426 585,471.6786 " fill="none" id="sos_api-&gt;doi_file_storage" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="585,476.8396,589,467.8396,585,471.8396,581,467.8396,585,476.8396" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="586" y="439.1357">Reads from</text><!--reverse link file_storage to sos_job_server--><path d="M738.063,604.9696 C721.678,633.9496 702.267,668.2816 685.125,698.5976 " fill="none" id="file_storage&lt;-sos_job_server" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="740.666,600.3666,732.7556,606.2339,738.2059,604.7196,739.7203,610.17,740.666,600.3666" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="722" y="649.1357">Reads from and writes</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12" x="789" y="665.4873">to</text><!--reverse link doi_file_storage to sos_job_server--><path d="M546.801,605.0886 C539.456,625.6076 536.177,648.2236 544,668.6406 C547.967,678.9956 553.437,688.9816 559.774,698.4196 " fill="none" id="doi_file_storage&lt;-sos_job_server" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="548.642,600.1956,541.7281,607.2098,546.8807,604.8752,549.2154,610.0278,548.642,600.1956" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="545" y="649.1357">Reads from and writes</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12" x="612" y="665.4873">to</text><!--reverse link mongodb_sos_verbatim to sos_job_server--><path d="M932.517,608.9116 C916.893,630.0016 897.908,651.9846 877,668.6406 C839.203,698.7526 791.654,722.5896 749.158,740.1236 " fill="none" id="mongodb_sos_verbatim&lt;-sos_job_server" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="935.597,604.7066,927.0524,609.6046,932.6429,608.7406,933.5069,614.3311,935.597,604.7066" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="911" y="649.1357">Reads from and writes</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12" x="978" y="665.4873">to</text><!--reverse link mongodb_sos_processed to sos_job_server--><path d="M364.228,610.0906 C366.076,630.6456 371.514,652.0236 384,668.6406 C419.541,715.9426 479.744,742.6966 532.951,757.7396 " fill="none" id="mongodb_sos_processed&lt;-sos_job_server" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="363.834,604.8866,360.5269,614.1636,364.2126,609.8723,368.5039,613.5579,363.834,604.8866" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="142" x="385" y="649.1357">Reads from and writes</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12" x="452" y="665.4873">to</text><!--link artfakta to sos_api--><path d="M372.02,94.9506 C406.053,131.4116 468.241,198.0416 516.665,249.9246 " fill="none" id="artfakta-&gt;sos_api" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="520.128,253.6346,516.9084,244.3269,516.7152,249.9804,511.0617,249.7873,520.128,253.6346" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="447" y="148.1357">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="439" y="163.4492">[HTTPS]</text><!--link artsok to sos_api--><path d="M517.068,103.8706 C528.645,141.2356 547.155,200.9826 561.931,248.6786 " fill="none" id="artsok-&gt;sos_api" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="563.44,253.5486,564.5966,243.7679,561.9599,248.7727,556.9551,246.136,563.44,253.5486" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="546" y="148.1357">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="538" y="163.4492">[HTTPS]</text><!--link gbif_ala to sos_api--><path d="M656.59,94.9506 C645.242,131.1196 624.581,196.9776 608.361,248.6766 " fill="none" id="gbif_ala-&gt;sos_api" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="606.806,253.6346,613.3176,246.2455,608.3033,248.8641,605.6847,243.8498,606.806,253.6346" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="645" y="148.1357">Harvest DwC-A</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="669" y="163.4492">[HTTPS]</text><!--link other_users to sos_api--><path d="M811.986,94.9606 C794.526,115.0406 769.731,143.0056 747,166.6406 C720.279,194.4236 690.117,224.0146 663.125,249.9026 " fill="none" id="other_users-&gt;sos_api" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="659.509,253.3666,668.7743,250.0269,663.1187,249.9069,663.2387,244.2513,659.509,253.3666" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="786" y="148.1357">Uses</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="778" y="163.4492">[HTTPS]</text><!--link sos_job_server to wram--><path d="M749.097,848.6516 C763.6,860.8806 777.436,874.3186 789,888.6406 C823.469,931.3316 846.257,991.7136 857.872,1028.2706 " fill="none" id="sos_job_server-&gt;wram" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="859.504,1033.4863,860.6323,1023.7023,858.0101,1028.7147,852.9977,1026.0925,859.504,1033.4863" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="821" y="911.1357">Gets observations from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="871" y="926.4492">[HTTPS]</text><!--link sos_job_server to artportalen_db--><path d="M628.234,856.9836 C626.87,883.3146 628.661,912.3936 638,937.6406 C641.864,948.0856 681.449,992.8296 710.883,1025.2256 " fill="none" id="sos_job_server-&gt;artportalen_db" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="714.419,1029.1126,711.322,1019.7634,711.0546,1025.4139,705.404,1025.1465,714.419,1029.1126" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="639" y="911.1357">Gets observations from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="678.5" y="926.4492">[SQL native]</text><!--link sos_job_server to dwca_external_source--><path d="M749.013,785.4846 C823.764,796.1966 919.443,822.8886 975,888.6406 C1007.97,927.6666 1008.66,990.2876 1005.375,1028.0906 " fill="none" id="sos_job_server-&gt;dwca_external_source" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1004.865,1033.4825,1009.6954,1024.8996,1005.3362,1028.5048,1001.731,1024.1456,1004.865,1033.4825" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="1000" y="911.1357">Gets observations from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="1050" y="926.4492">[HTTPS]</text><!--link sos_job_server to other_external_sources--><path d="M749.218,788.3286 C882.344,802.4706 1097.67,833.3086 1154,888.6406 C1191.36,925.3416 1196.63,989.7206 1196.03,1028.3006 " fill="none" id="sos_job_server-&gt;other_external_sources" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1195.92,1033.336,1200.1221,1024.4286,1196.0328,1028.3373,1192.1241,1024.2481,1195.92,1033.336" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="145" x="1185" y="911.1357">Gets observations from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="1235" y="926.4492">[HTTPS]</text><!--link sos_job_server to taxon_service--><path d="M532.856,791.1926 C408.887,807.6396 215.839,840.2066 162,888.6406 C124.811,922.0956 111.058,980.0746 105.9745,1019.2566 " fill="none" id="sos_job_server-&gt;taxon_service" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="105.3409,1024.4156,110.4091,1015.9709,105.9509,1019.453,102.4689,1014.9948,105.3409,1024.4156" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="143" x="163" y="903.1357">Gets Dyntaxa checklist</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="199" y="919.4873">DwC-A from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="214" y="934.8008">[HTTPS]</text><!--link sos_job_server to taxon_attribute_service--><path d="M532.832,793.3596 C469.589,807.4846 393.002,835.0376 345,888.6406 C310.258,927.4356 302.679,990.1326 301.519,1028.0126 " fill="none" id="sos_job_server-&gt;taxon_attribute_service" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="301.392,1033.4152,305.6018,1024.5114,301.5091,1028.4166,297.604,1024.324,301.392,1033.4152" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="131" x="346" y="903.1357">Gets taxon attributes</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="399" y="919.4873">from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="391" y="934.8008">[HTTPS]</text><!--link sos_job_server to georeference_service--><path d="M532.884,844.1296 C519.21,857.1226 507.168,871.9806 499,888.6406 C476.732,934.0576 497.135,993.2026 514.013,1028.8376 " fill="none" id="sos_job_server-&gt;georeference_service" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="516.261,1033.4914,515.9483,1023.6475,514.0863,1028.9891,508.7447,1027.1271,516.261,1033.4914" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="500" y="903.1357">Gets geographical</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="520" y="919.4873">regions from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="537.5" y="934.8008">[HTTPS]</text><!--
@startuml "SOS (Species Observation System)"





skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}






















skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}

skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
















skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}







title Container diagram for Species Observation System

rectangle "==Artfakta.se" <<external_system>> as artfakta
rectangle "==Artsök\nGIS plugin" <<external_system>> as artsok
rectangle "==GBIF/ALA" <<external_system>> as gbif_ala
rectangle "==Other systems ..." <<external_system>> as other_users

rectangle "==SOS (Species Observation System)\n<size:12>[System]</size>" <<boundary>> as sos{    
    rectangle "==API Application\n//<size:12>[C#, .Net Core 3.x]</size>//\n\n Provides species observation data via a REST JSON/HTTPS API." <<container>> as sos_api
    database "==sos-processed\n//<size:12>[MongoDB 4.x]</size>//\n\n Stores processed species observations in DwC format" <<container>> as mongodb_sos_processed
    database "==sos-verbatim\n//<size:12>[MongoDB 4.x]</size>//\n\n Stores verbatim harvested species observations" <<container>> as mongodb_sos_verbatim    
    rectangle "==DOI File Storage\n//<size:12>[Azure BLOB storage]</size>//\n\n Stores DOI DwC-A files.\nStored indefinitely." <<container>> as doi_file_storage
    rectangle "==File Storage\n//<size:12>[NTFS]</size>//\n\n Stores DwC-A files.\nStored 1 week." <<container>> as file_storage
    rectangle "==Job Server\n//<size:12>[C#, .Net Core 3.x, Hangfire]</size>//\n\n Harvest observations on a scheduled basis, processes observations & creates DwC-A files." <<container>> as sos_job_server    

    sos_api - -> mongodb_sos_processed : "===Reads from"
    sos_api - -> file_storage : "===Reads from"
    sos_api - -> doi_file_storage : "===Reads from"
    sos_job_server -UP-> file_storage : "===Reads from and writes to"
    sos_job_server -UP-> doi_file_storage : "===Reads from and writes to"
    sos_job_server -UP-> mongodb_sos_verbatim : "===Reads from and writes to"
    sos_job_server -UP-> mongodb_sos_processed : "===Reads from and writes to"
}

rectangle "==Processing data\n<size:12>[System]</size>" <<boundary>> as c3 {
    rectangle "==Taxon Service\n(Dyntaxa)" <<system>> as taxon_service
    rectangle "==Taxon Attribute Service" <<system>> as taxon_attribute_service
    rectangle "==GeoReference Service" <<system>> as georeference_service
}

rectangle "==Species oservation data providers\n<size:12>[System]</size>" <<boundary>> as c2 {
    database "==Artportalen" <<system>> as artportalen_db
    rectangle "==WRAM" <<system>> as wram
    rectangle "==DwC-A" <<external_system>> as dwca_external_source
    rectangle "==Other data providers ..." <<external_system>> as other_external_sources
}

artfakta - -> sos_api : "===Uses\n//<size:12>[HTTPS]</size>//"
artsok - -> sos_api : "===Uses\n//<size:12>[HTTPS]</size>//"
gbif_ala - -> sos_api : "===Harvest DwC-A\n//<size:12>[HTTPS]</size>//"
other_users - -> sos_api : "===Uses\n//<size:12>[HTTPS]</size>//"

sos_job_server - -> wram : "===Gets observations from\n//<size:12>[HTTPS]</size>//"
sos_job_server - -> artportalen_db : "===Gets observations from\n//<size:12>[SQL native]</size>//"
sos_job_server - -> dwca_external_source : "===Gets observations from\n//<size:12>[HTTPS]</size>//"
sos_job_server - -> other_external_sources : "===Gets observations from\n//<size:12>[HTTPS]</size>//"

sos_job_server - -> taxon_service : "===Gets Dyntaxa checklist DwC-A from\n//<size:12>[HTTPS]</size>//"
sos_job_server - -> taxon_attribute_service : "===Gets taxon attributes from\n//<size:12>[HTTPS]</size>//"
sos_job_server - -> georeference_service : "===Gets geographical regions from\n//<size:12>[HTTPS]</size>//"

@enduml

PlantUML version 1.2019.09(Mon Aug 26 18:19:51 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_152-b16
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>