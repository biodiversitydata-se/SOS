<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="953px" preserveAspectRatio="none" style="width:1350px;height:953px;" version="1.1" viewBox="0 0 1350 953" width="1350px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="322" x="518" y="18.6855">Component diagram for SOS Job Server</text><!--cluster job_server_container--><rect fill="#FFFFFF" height="689" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="831" x="22" y="253.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="399.5" y="270.1738">«boundary»</text><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="83" x="396" y="289.8594">Job Server</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="406" y="305.832">[Container]</text><!--entity job_server--><rect fill="#85BBF0" height="140.75" style="stroke: #78A8D8; stroke-width: 1.5;" width="206" x="378" y="324.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="443" y="347.0977">«component»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186" x="388" y="366.3438">SOS.Hangfire.JobServer</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="163" x="399.5" y="382.3164">[.Net Core service application]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="483" y="399.4863"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="148" x="405" y="417.0957">Hangfire job server that</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="158" x="400" y="434.7051">executes scheduled &amp; on</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="435" y="452.3145">demand tasks.</text><!--entity import_assembly--><rect fill="#85BBF0" height="158.3594" style="stroke: #78A8D8; stroke-width: 1.5;" width="219" x="617.5" y="543.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="689" y="566.0977">«component»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="683.5" y="585.3438">SOS.Import</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="669.5" y="601.3164">[.Net Core assembly]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="729" y="618.4863"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="647.5" y="636.0957">Provides functionality for</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="666" y="653.7051">harvesting species</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="627.5" y="671.3145">observations from various data</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="700" y="688.9238">sources.</text><!--entity process_assembly--><rect fill="#85BBF0" height="158.3594" style="stroke: #78A8D8; stroke-width: 1.5;" width="203" x="379.5" y="543.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="443" y="566.0977">«component»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="430.5" y="585.3438">SOS.Process</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="423.5" y="601.3164">[.Net Core assembly]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="483" y="618.4863"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="401.5" y="636.0957">Provides functionality for</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="179" x="389.5" y="653.7051">processing verbatim species</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="392.5" y="671.3145">observations and transform</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="417" y="688.9238">them to DwC format.</text><!--entity export_assembly--><rect fill="#85BBF0" height="140.75" style="stroke: #78A8D8; stroke-width: 1.5;" width="219" x="125.5" y="552.1406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="197" y="574.5977">«component»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="190.5" y="593.8438">SOS.Export</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="115" x="177.5" y="609.8164">[.Net Core assembly]</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="237" y="626.9863"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="155" x="155.5" y="644.5957">Provides functionality for</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="135.5" y="662.2051">exporting species observations</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="203.5" y="679.8145">to DwC-A.</text><!--entity mongodb_sos_processed--><path d="M418.5,804.6406 C418.5,794.6406 515,794.6406 515,794.6406 C515,794.6406 611.5,794.6406 611.5,804.6406 L611.5,916.7813 C611.5,926.7813 515,926.7813 515,926.7813 C515,926.7813 418.5,926.7813 418.5,916.7813 L418.5,804.6406 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M418.5,804.6406 C418.5,814.6406 515,814.6406 515,814.6406 C515,814.6406 611.5,814.6406 611.5,804.6406 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="482.5" y="831.0977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114" x="458" y="850.3438">sos-processed</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="475.5" y="866.3164">[MongoDB 4.x]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="517" y="883.4863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="163" x="431.5" y="901.0957">Stores processed species</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="428.5" y="918.7051">observations in DwC format</text><!--entity mongodb_sos_verbatim--><path d="M647,804.6406 C647,794.6406 742,794.6406 742,794.6406 C742,794.6406 837,794.6406 837,804.6406 L837,916.7813 C837,926.7813 742,926.7813 742,926.7813 C742,926.7813 647,926.7813 647,916.7813 L647,804.6406 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M647,804.6406 C647,814.6406 742,814.6406 742,814.6406 C742,814.6406 837,814.6406 837,804.6406 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="709.5" y="831.0977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="692.5" y="850.3438">sos-verbatim</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="702.5" y="866.3164">[MongoDB 4.x]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="744" y="883.4863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="166" x="657" y="901.0957">Stores verbatim harvested</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="675.5" y="918.7051">species observations</text><!--entity doi_file_storage--><rect fill="#438DD5" height="123.1406" style="stroke: #3C7FC0; stroke-width: 1.5;" width="169" x="38.5" y="799.1406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="90.5" y="821.5977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="123" x="61.5" y="840.8438">DOI File Storage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="118" x="64" y="856.8164">[Azure BLOB storage]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="125" y="873.9863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="149" x="48.5" y="891.5957">Stores DOI DwC-A files.</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="64.5" y="909.2051">Stored indefinitely.</text><!--entity file_storage--><rect fill="#438DD5" height="123.1406" style="stroke: #3C7FC0; stroke-width: 1.5;" width="141" x="242.5" y="799.1406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="280.5" y="821.5977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="267.5" y="840.8438">File Storage</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="37" x="294.5" y="856.8164">[NTFS]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="315" y="873.9863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="252.5" y="891.5957">Stores DwC-A files.</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="266" y="909.2051">Stored 1 week.</text><!--entity api_application--><rect fill="#438DD5" height="140.75" style="stroke: #3C7FC0; stroke-width: 1.5;" width="216" x="123" y="31.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="198.5" y="54.0977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154" x="154" y="73.3438">SOS API Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="191" y="89.3164">[C#, .Net Core]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="233" y="106.4863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="192" x="133" y="124.0957">Provides species observations</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="191" x="133.5" y="141.7051">data via a REST JSON/HTTPS</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="218.5" y="159.3145">API.</text><!--entity harvest_api--><rect fill="#438DD5" height="123.1406" style="stroke: #3C7FC0; stroke-width: 1.5;" width="214" x="374" y="40.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="448.5" y="63.0977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="417.5" y="82.3438">SOS Harvest API</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="441" y="98.3164">[C#, .Net Core]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="483" y="115.4863"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="404" y="133.0957">Provides functionality to</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="194" x="384" y="150.7051">change the harvest schedules.</text><!--entity job_monitoring_application--><rect fill="#438DD5" height="143.2656" style="stroke: #3C7FC0; stroke-width: 1.5;" width="193" x="623.5" y="30.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="687.5" y="53.0977">«container»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="169" x="633.5" y="72.3438">Job Server Monitoring</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="677" y="92.4688">Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="680" y="108.4414">[C#, .Net Core]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="722" y="125.6113"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="643" y="143.2207">Provides functionality to</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="142" x="649" y="160.8301">monitor the job server.</text><!--entity observation_data_providers--><rect fill="#999999" height="110.5625" style="stroke: #8A8A8A; stroke-width: 1.5;" width="217" x="872.5" y="805.1406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="929" y="827.5977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="882.5" y="846.8438">Species observation data</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="944.5" y="866.9688">providers</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="983" y="885.0176"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="192" x="885" y="902.627">Artportalen, WRAM, DwC-A, ...</text><!--entity processing_data_providers--><rect fill="#999999" height="128.1719" style="stroke: #8A8A8A; stroke-width: 1.5;" width="215" x="1124.5" y="796.6406"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="1180" y="819.0977">«external_system»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="1168" y="838.3438">Processing data</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73" x="1195.5" y="858.4688">providers</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="1234" y="876.5176"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="145" x="1157.5" y="894.127">Dyntaxa DwC-A, Taxon</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="1134.5" y="911.7363">attributes &amp; geography regions</text><!--link job_server to import_assembly--><path d="M557.151,465.9456 C582.705,489.3706 611.431,515.7026 637.888,539.9546 " fill="none" id="job_server-&gt;import_assembly" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="641.774,543.5166,637.8425,534.4865,638.0882,540.138,632.4367,540.3837,641.774,543.5166" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="605" y="510.1357">Uses</text><!--link job_server to process_assembly--><path d="M481,465.9456 C481,488.8906 481,514.6246 481,538.4606 " fill="none" id="job_server-&gt;process_assembly" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="481,543.5166,485,534.5166,481,538.5166,477,534.5166,481,543.5166" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="482" y="510.1357">Uses</text><!--link job_server to export_assembly--><path d="M404.849,465.9456 C376.354,492.0656 343.916,521.8016 315.077,548.2366 " fill="none" id="job_server-&gt;export_assembly" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="311.215,551.7766,320.5523,548.6437,314.9008,548.398,315.1465,542.7465,311.215,551.7766" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="367" y="510.1357">Uses</text><!--link import_assembly to mongodb_sos_verbatim--><path d="M731.974,701.8976 C733.772,730.1916 735.79,761.9376 737.541,789.4916 " fill="none" id="import_assembly-&gt;mongodb_sos_verbatim" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="737.865,794.5866,741.2861,785.351,737.5479,789.5967,733.3022,785.8585,737.865,794.5866" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="34" x="736" y="753.6357">Write</text><!--link process_assembly to mongodb_sos_verbatim--><path d="M567.547,701.8976 C599.487,730.7786 635.405,763.2556 666.311,791.2016 " fill="none" id="process_assembly-&gt;mongodb_sos_verbatim" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="670.055,794.5866,666.0634,785.5829,666.3468,791.2327,660.697,791.5161,670.055,794.5866" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="636" y="753.6357">Read</text><!--link process_assembly to mongodb_sos_processed--><path d="M492.274,701.8976 C496.351,730.1916 500.924,761.9376 504.894,789.4916 " fill="none" id="process_assembly-&gt;mongodb_sos_processed" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="505.628,794.5866,508.3012,785.1075,504.9137,789.6379,500.3833,786.2504,505.628,794.5866" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="34" x="503" y="753.6357">Write</text><!--link export_assembly to mongodb_sos_processed--><path d="M317.495,693.1716 C354.071,724.0006 396.985,760.1716 433.451,790.9066 " fill="none" id="export_assembly-&gt;mongodb_sos_processed" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="437.411,794.2446,433.1082,785.3854,433.5882,791.0218,427.9518,791.5018,437.411,794.2446" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33" x="402" y="753.6357">Read</text><!--link export_assembly to file_storage--><path d="M257.981,693.1716 C268.517,725.0496 280.941,762.6396 291.314,794.0266 " fill="none" id="export_assembly-&gt;file_storage" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="292.961,799.0086,293.9327,789.2078,291.391,794.2615,286.3373,791.7198,292.961,799.0086" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="34" x="282" y="753.6357">Write</text><!--link export_assembly to doi_file_storage--><path d="M202.002,693.1716 C186.811,725.1816 168.887,762.9496 153.955,794.4136 " fill="none" id="export_assembly-&gt;doi_file_storage" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="151.775,799.0086,159.248,792.5935,153.9192,794.4917,152.021,789.1628,151.775,799.0086" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="34" x="184" y="753.6357">Write</text><!--link import_assembly to observation_data_providers--><path d="M811.226,701.8976 C846.195,734.3886 886.063,771.4316 918.374,801.4526 " fill="none" id="import_assembly-&gt;observation_data_providers" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="922.276,805.0786,918.4048,796.0225,918.6128,801.6755,912.9598,801.8835,922.276,805.0786" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="66" x="902" y="746.1357">Read from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="116" x="877" y="761.4492">[SQL, HTTPS, File, ...]</text><!--link import_assembly to processing_data_providers--><path d="M836.829,662.9236 C887.746,682.1096 948.657,706.4606 1002,731.6406 C1041.61,750.3386 1083.8,772.9796 1121.09,793.9896 " fill="none" id="import_assembly-&gt;processing_data_providers" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="1125.62,796.5436,1119.7477,788.6369,1121.2655,794.0864,1115.8161,795.6041,1125.62,796.5436" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="66" x="1067" y="746.1357">Read from</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="1077.5" y="761.4492">[HTTPS]</text><!--link api_application to job_server--><path d="M290.881,172.8426 C329.239,217.4906 378.946,275.3506 417.914,320.7086 " fill="none" id="api_application-&gt;job_server" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="421.175,324.5036,418.3441,315.0704,417.9167,320.7111,412.276,320.2837,421.175,324.5036" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="343" y="218.1357">Adds long running</text><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="387.5" y="234.4873">tasks</text><!--link harvest_api to job_server--><path d="M481,163.7896 C481,209.0306 481,271.0946 481,319.4026 " fill="none" id="harvest_api-&gt;job_server" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="481,324.6266,485,315.6266,481,319.6266,477,315.6266,481,324.6266" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="482" y="218.6357">Makes API calls to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="499.5" y="233.9492">[JSON/HTTPS]</text><!--link job_monitoring_application to job_server--><path d="M661.84,173.9546 C625.358,218.3746 578.411,275.5356 541.495,320.4836 " fill="none" id="job_monitoring_application-&gt;job_server" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="538.18,324.5196,546.9826,320.1022,541.3529,320.6553,540.7997,315.0256,538.18,324.5196" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="637" y="218.6357">Makes API calls to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="80" x="654.5" y="233.9492">[JSON/HTTPS]</text><!--
@startuml





skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}






















skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}

skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}
















skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}












skinparam rectangle<<component>> {
    StereotypeFontColor #FFFFFF
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}

skinparam database<<component>> {
    StereotypeFontColor #FFFFFF
    FontColor #000000
    BackgroundColor #85BBF0
    BorderColor #78A8D8
}





title Component diagram for SOS Job Server
rectangle "==SOS API Application\n//<size:12>[C#, .Net Core]</size>//\n\n Provides species observations data via a REST JSON/HTTPS API." <<container>> as api_application
rectangle "==SOS Harvest API\n//<size:12>[C#, .Net Core]</size>//\n\n Provides functionality to change the harvest schedules." <<container>> as harvest_api
rectangle "==Job Server Monitoring Application\n//<size:12>[C#, .Net Core]</size>//\n\n Provides functionality to monitor the job server." <<container>> as job_monitoring_application
rectangle "==Species observation data providers\n\n Artportalen, WRAM, DwC-A, ..." <<external_system>> as observation_data_providers
rectangle "==Processing data providers\n\n Dyntaxa DwC-A, Taxon attributes & geography regions" <<external_system>> as processing_data_providers

rectangle "==Job Server\n<size:12>[Container]</size>" <<boundary>> as job_server_container {
    rectangle "==SOS.Hangfire.JobServer\n//<size:12>[.Net Core service application]</size>//\n\n Hangfire job server that executes scheduled & on demand tasks." <<component>> as job_server
    rectangle "==SOS.Import\n//<size:12>[.Net Core assembly]</size>//\n\n Provides functionality for harvesting species observations from various data sources." <<component>> as import_assembly
    rectangle "==SOS.Process\n//<size:12>[.Net Core assembly]</size>//\n\n Provides functionality for processing verbatim species observations and transform them to DwC format." <<component>> as process_assembly
    rectangle "==SOS.Export\n//<size:12>[.Net Core assembly]</size>//\n\n Provides functionality for exporting species observations to DwC-A." <<component>> as export_assembly

    database "==sos-processed\n//<size:12>[MongoDB 4.x]</size>//\n\n Stores processed species observations in DwC format" <<container>> as mongodb_sos_processed
    database "==sos-verbatim\n//<size:12>[MongoDB 4.x]</size>//\n\n Stores verbatim harvested species observations" <<container>> as mongodb_sos_verbatim
    rectangle "==DOI File Storage\n//<size:12>[Azure BLOB storage]</size>//\n\n Stores DOI DwC-A files.\nStored indefinitely." <<container>> as doi_file_storage
    rectangle "==File Storage\n//<size:12>[NTFS]</size>//\n\n Stores DwC-A files.\nStored 1 week." <<container>> as file_storage

    job_server - -> import_assembly : "===Uses"
    job_server - -> process_assembly : "===Uses"
    job_server - -> export_assembly : "===Uses"
    import_assembly - -> mongodb_sos_verbatim : "===Write"
    process_assembly - -> mongodb_sos_verbatim : "===Read"
    process_assembly - -> mongodb_sos_processed : "===Write"
    export_assembly - -> mongodb_sos_processed : "===Read"
    export_assembly - -> file_storage : "===Write"
    export_assembly - -> doi_file_storage : "===Write"    
}

import_assembly - -> observation_data_providers : "===Read from\n//<size:12>[SQL, HTTPS, File, ...]</size>//"
import_assembly - -> processing_data_providers : "===Read from\n//<size:12>[HTTPS]</size>//"
api_application - -> job_server : "===Adds long running tasks"
harvest_api - -> job_server : "===Makes API calls to\n//<size:12>[JSON/HTTPS]</size>//"
job_monitoring_application - -> job_server : "===Makes API calls to\n//<size:12>[JSON/HTTPS]</size>//"
@enduml

PlantUML version 1.2019.09(Mon Aug 26 18:19:51 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_152-b16
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>