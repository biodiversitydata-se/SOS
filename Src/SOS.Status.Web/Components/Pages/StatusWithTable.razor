@page "/statuswithtable"
@inject StatusInfoManager statusInfoManager;

<PageTitle>Status info</PageTitle>
<MudText Typo="Typo.h4">Status info</MudText>
<ProcessStatusSummary ProcessSummary="@processSummary" />
<MudDivider Class="my-2" />
<MudText Typo="Typo.h4">Data provider statuses</MudText>
<DataProviderTableVerbose ProcessSummary="@processSummary" />

@code {    
    private ProcessSummaryDto? processSummary;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            processSummary = await statusInfoManager.GetProcessSummaryAsync();
        }
        catch (Exception ex)
        {
            // In a production environment, you would want to handle this error appropriately
            Console.WriteLine($"Error fetching process information: {ex.Message}");
        }
    }
}